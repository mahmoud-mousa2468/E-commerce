<section class="bg-main-light shadow p-2 round-4 my-2">
<h1 class="h2 text-main">Login Now:</h1>

<form [formGroup]="loginForm" (submit)="loginSubmit()" >
    <div class="my-2">
        <label for="email" >email</label>
        <input [ngClass]="{
            'is-valid':!loginForm.get('email')?.errors&&(loginForm.get('email')?.touched||loginForm.get('email')?.dirty),
            'is-invalid':loginForm.get('email')?.errors&&(loginForm.get('email')?.touched||loginForm.get('email')?.dirty)
        }" type="email" id="email" class="form-control" formControlName="email">
        @if(loginForm.get('email')?.errors&&(loginForm.get('email')?.touched||loginForm.get('email')?.dirty)){
            <div class="alert alert-danger w-50">
                @if(loginForm.get('email')?.getError('required')){<p class="m-0">E-mail is required</p>}
                @else if(loginForm.get('email')?.getError('email')){<p class="m-0">E-mail isn't correct</p>}
            </div>
        }
    </div>
    <div class="my-2">
        <label for="password" >password</label>
        <input [ngClass]="{
            'is-valid':!loginForm.get('password')?.errors&&(loginForm.get('password')?.touched||loginForm.get('password')?.dirty),
            'is-invalid':loginForm.get('password')?.errors&&(loginForm.get('password')?.touched||loginForm.get('password')?.dirty)
        }" type="password" id="password" class="form-control" formControlName="password">
        @if(loginForm.get('password')?.errors&&(loginForm.get('password')?.touched||loginForm.get('password')?.dirty)){
            <div class="alert alert-danger w-50">
                @if(loginForm.get('password')?.getError('required')){<p class="m-0">Password is required</p>}
                @else if(loginForm.get('password')?.getError('minLength'))
                {<p class="m-0">Password isn't correct</p>}
            </div>
        }
    </div>

    <div class="d-flex align-items-center justify-content-end gap-4">
        <a routerLink="/forgetpassword" class="link-info">Forget Password</a>
        <button  class="btn-main ">login
        @if (isLoading) {<span><i class="fas fa-spin fa-spinner"></i></span>}
    </button>
    </div>
    @if (mesErr&&!mesSucces) {<p class="alert alert-danger w-50 me-auto">{{mesErr}}</p>}
    @if(mesSucces){<p class="alert alert-success">Success</p>}
</form>
</section>